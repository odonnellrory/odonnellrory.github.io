#  11/09/25 - Firefox Syncing with SCP
---

The laptop is Ubuntu no more.  Now, Nix has a funny way of working.  It has a package manager that installs software from your nix config file, as opposed to traditional package managers that are used solely through the command line.

This config file is in /etc/nixos/configuration.nix.

So there are a few things I want to do on here first.
I want to get rid of nano and I want to import my firefox and KDE configs.  I am using KDE plasma at the moment on my arch machine, it's quite nice.

So the first thing I've done is open the kde terminal and entered

```
sudo nano /etc/nixos/configuration.nix

```

and slap this bad boy in there

```
programs.neovim.enable = true;

```

then backing out to rebuild Nix so I don't have to use nano.

```
sudo nixos-rebuild switch

```

Cool.  Now I can actually use the machine.  Let's open the same config back up but with neovim, the aim is to enable SSH and install git.

```
programs.git.enable = true;

```

Look familiar?  Nix syntax is pretty intuitive and quick to learn.

For SSH, there is already a line written out in the default config, so don't be like me and write it in manually THEN also uncomment the line forgetting that you added it manually.
That will give you an error.  

```
services.sshd.enable = true;

```

cool, after rebuilding lets check that it's working:

```
sudo systemctl status 

```

FYI: ```sud TAB syst TAB c TAB stat TAB```

We can get the IP of the laptop with ```ip a``` but I was feeling fancy today and grepped it too ```ip a | grep 192```.  This gives me only the line from ```ip a``` with my local IP.

So from my Arch machine I can now transfer the files to my laptop safely with Secure Copy Protocol.  SCP uses Secure Shell (SSH) for authentication and encryption.

Inside of the firefox folder there were two profiles.  So I checked the profiles.ini to find the one I currently use is the one beginning with 7.

```
   Λ   ~   ls -a ~/.mozilla/firefox                                                                                                                                                                                                                    130 ↵
 .   ..   7iv10z6a.default-release   86o2fdg1.default  'Crash Reports'   installs.ini  'Pending Pings'  'Profile Groups'   profiles.ini
   Λ   ~   less ~/.mozilla/firefox/profile
/home/rory/.mozilla/firefox/profile: No such file or directory
   Λ   ~   less ~/.mozilla/firefox/profiles.ini                                                                                                                                                                                                          1 ↵
   Λ   ~   scp -r ~/.mozilla/firefox/7iv10z6a.default-release rory@192.168.x.xxx:/home/rory/

```

Then I transferred the passwords, bookmarks, extensions, and browsing history to my latop over my network using SCP.

```
   Λ   ~   scp \                                                                                                                                                                                                                                       130 ↵
  ~/.mozilla/firefox/7iv10z6a.default-release/places.sqlite \
  ~/.mozilla/firefox/7iv10z6a.default-release/key4.db \
  ~/.mozilla/firefox/7iv10z6a.default-release/logins.json \
  rory@192.168.x.xxx:/home/rory/

(rory@192.168.x.xxx) Password:
places.sqlite                                                                                                                                                                                                                100%   40MB  15.6MB/s   00:02
key4.db                                                                                                                                                                                                                      100%  288KB  15.7MB/s   00:00
logins.json                                                                                                                                                                                                                  100%   18KB   3.3MB/s   00:00
   Λ   ~   scp -r ~/.mozilla/firefox/7iv10z6a.default-release/extensions \
    rory@192.168.x.xxx:/home/rory/

```

Now I just sign into my password manager and firefox is exactly the same as it is on my Arch PC.

For KDE I just exported my keybindings and sent that over by SCP as well, same method as above.

---
